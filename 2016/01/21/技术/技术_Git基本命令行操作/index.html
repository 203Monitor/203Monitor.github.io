<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>Git基本命令行操作 | Yucapri</title>
  <meta name="description" content="code made the world" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" type="text/css" href="/css/screen.css" />
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic|Open+Sans:700,400" />

  <meta name="generator" content="Yucapri">

  
  
  

  
</head>


<body class="post-template">

  <header class="site-head"  style="background-image: url(http://7xs2qm.com1.z0.glb.clouddn.com/03013.png)" >
    <div class="vertical">
        <div class="site-head-content inner">
             <a class="blog-logo" href="/"><img src="http://7xqedu.com1.z0.glb.clouddn.com/avator.png" alt="Blog Logo"/></a> 
            <h1 class="blog-title">Yucapri</h1>
            <h2 class="blog-description">code made the world</h2>
        </div>
    </div>
</header>
  

<main class="content" role="main">
  <article class="post">
    <span class="post-meta">
      <time datetime="2016-01-20T16:00:00.000Z" itemprop="datePublished">
          2016-01-21
      </time>
    
    
    | 
    <a href='/tags/Git/'>Git</a>
    
    
</span>
    <h1 class="post-title">Git基本命令行操作</h1>
    <section class="post-content">
      <p>Git基本命令行操作<br>A. 新建Git仓库，创建新文件夹<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">git</span> init</span><br></pre></td></tr></table></figure></p>
<p>B. 添加文件到git索引<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">add</span> &lt;filename&gt;  <span class="comment">--- 单个文件添加</span></span><br><span class="line">git <span class="built_in">add</span> *　　<span class="comment">--- 全部文件添加</span></span><br></pre></td></tr></table></figure></p>
<p>C. 提交到本地仓库<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="operator"><span class="keyword">commit</span> -<span class="keyword">m</span> <span class="string">"代码提交描述"</span></span></span><br></pre></td></tr></table></figure></p>
<p>D. 提交到远端仓库<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="label">git</span> <span class="keyword">push </span>origin master</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>master可以换成你想要推送的任何分支</p>
</blockquote>
<p>分支：</p>
<ol>
<li><p>创建一个叫做”lee”的分支，并切换过去</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -<span class="tag">b</span> lee</span><br></pre></td></tr></table></figure>
</li>
<li><p>切换回主分支</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout <span class="literal">master</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>把新建的分支删除</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="label">git</span> <span class="keyword">branch </span>-d lee</span><br></pre></td></tr></table></figure>
</li>
<li><p>再push分支到远端仓库前，该分支不被人所见到</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="label">git</span> <span class="keyword">push </span>origin &lt;<span class="keyword">branch&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>更新与合并:<br>A. 更新本地仓库<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">git</span> pull</span><br></pre></td></tr></table></figure></p>
<p>B. 自动合并分支，多时引起冲突，冲突后需要手动解决<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge <span class="tag">&lt;<span class="title">branch</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>C. 合并后需要添加<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="label">git</span> <span class="keyword">add </span>&lt;<span class="keyword">branch&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>D. 合并前建议使用对比工具<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff <span class="tag">&lt;<span class="title">source_branch</span>&gt;</span> <span class="tag">&lt;<span class="title">target_branch</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>E. 软件发布是创建标签，标签与标记需要唯一</p>
<ul>
<li><p>E.1 获取提交ID</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="command">log</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>E.2 创建标签</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git  <span class="keyword">tag</span>  <span class="title">1</span>.<span class="number">2.3</span>  提交ID</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>F. 回退到某个历史版本</p>
<ul>
<li><p>F.1 获取提交ID</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="command">log</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>F.2 回退到指定版本</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="operator"><span class="keyword">reset</span> <span class="comment">--hard 提交ID</span></span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>G. 使用reset命令后log是得不到充分信息的，这时我们需要使用reflog，然后再reset<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">git</span> reflog</span><br></pre></td></tr></table></figure></p>
<p>H. 彩色git输出<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config <span class="attribute">color</span><span class="class">.ui</span> true</span><br></pre></td></tr></table></figure></p>
<p>I. 查看远程分支与本地分支<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="label">git</span> <span class="keyword">branch </span>-a</span><br></pre></td></tr></table></figure></p>
<p>J. push一个指定分支名到远程分支，如果远程服务器没有这个分支则创建<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="label">git</span> <span class="keyword">push </span>origin &lt;<span class="keyword">brancheName&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>K. 删除一个远程分支<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">push</span> origin --<span class="keyword">delete</span> &lt;branchName&gt;</span><br></pre></td></tr></table></figure></p>
<p>L. 如果使用rm误删了文件，可以通过两步恢复</p>
<ul>
<li><ol>
<li><code>git reset HRAD 文件名</code></li>
</ol>
</li>
<li><ol>
<li><code>git checkout -- 文件名</code></li>
</ol>
</li>
</ul>
<p>M. 删除文件<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">rm</span> 文件名    （同时删除工作目录与本地仓库的文件）</span><br><span class="line">git <span class="keyword">rm</span> --cached 文件名     （删除本地仓库文件，并不影响工作目录）</span><br></pre></td></tr></table></figure></p>
<p>N. 改变上传地址<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote <span class="keyword">set</span>-url origin ssh:<span class="comment">//git@git.sailor.cn/~/WeiYu</span></span><br></pre></td></tr></table></figure></p>
<p>O. 根据服务器的地址创建本地git与服务器的地址关联<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin <span class="symbol">ssh:</span>/<span class="regexp">/lht@git_server/var</span><span class="regexp">/lib/scm</span><span class="regexp">/git/lht</span><span class="regexp">/test.git</span></span><br></pre></td></tr></table></figure></p>

    </section>
    <footer class="post-footer">
      <section class="author">
    <h4>Yucapri</h4>
    <p>code made the world</p>
</section>
      <section class="share">
    <h4>Share this post</h4>
    <a class="icon-twitter" href="http://twitter.com/share?url=http://yoursite.com/2016/01/21/技术/技术_Git基本命令行操作/"
       onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <span class="hidden">Twitter</span>
    </a>
    <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2016/01/21/技术/技术_Git基本命令行操作/"
       onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
        <span class="hidden">Facebook</span>
    </a>
    <a class="icon-google-plus" href="https://plus.google.com/share?url=http://yoursite.com/2016/01/21/技术/技术_Git基本命令行操作/"
       onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
        <span class="hidden">Google+</span>
    </a>
</section>
    </footer>
  </article>
  <nav class="pagination" role="pagination">
    
    <a class="newer-posts" href="/2016/01/21/iOS/iOS_UIButton响应传参数/">
        ← UIButton响应传参数
    </a>
    
    <span class="page-number">•</span>
    
    <a class="older-posts" href="/2016/01/21/技术/技术_to_openshift/">
        to_openshift →
    </a>
    
</nav>
  <div id="comment" class="comments-area">
    <h1 class="title"><a href="#disqus_comments" name="disqus_comments">Comments</a></h1>

    
</div>
</main>


  
<footer class="site-footer">
  
  <div class="inner">
     <section class="copyright">All content copyright <a href="/">Yucapri</a> &copy; 2014 &bull; All rights reserved.</section>
     <section class="poweredby">Proudly published with <a class="icon-ghost" href="http://zespia.tw/hexo/">Hexo</a></section>
  </div>
</footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<script type="text/javascript" src="/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/js/index.js"></script>






</body>
</html>
