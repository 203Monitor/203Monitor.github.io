<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>科学上网大教程(持续更新) | Yucapri</title>
  <meta name="description" content="code made the world" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" type="text/css" href="/css/screen.css" />
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic|Open+Sans:700,400" />

  <meta name="generator" content="Yucapri">

  
  
  

  
</head>


<body class="post-template">

  <header class="site-head"  style="background-image: url(http://7xs2qm.com1.z0.glb.clouddn.com/03013.png)" >
    <div class="vertical">
        <div class="site-head-content inner">
             <a class="blog-logo" href="/"><img src="http://7xqedu.com1.z0.glb.clouddn.com/avator.png" alt="Blog Logo"/></a> 
            <h1 class="blog-title">Yucapri</h1>
            <h2 class="blog-description">code made the world</h2>
        </div>
    </div>
</header>
  

<main class="content" role="main">
  <article class="post">
    <span class="post-meta">
      <time datetime="2016-05-20T16:00:00.000Z" itemprop="datePublished">
          2016-05-21
      </time>
    
    
    | 
    <a href='/tags/科学上网/'>科学上网</a>
    
    
</span>
    <h1 class="post-title">科学上网大教程(持续更新)</h1>
    <section class="post-content">
      <p>GFW的日益强大，使国内的网络日益安全。不过真心苦了我们这帮程序员，要知道，看一个程序员是否优秀就看他如何使用Google。喜欢折腾的我当然是一直以优秀程序员自居，所以一定要做出些样子。这就总结了一些科学上网的小招子，望与各位想成为优秀程序员的人们共勉。</p>
<h2 id="SSH_Socks5"><a href="#SSH_Socks5" class="headerlink" title="SSH Socks5"></a>SSH Socks5</h2><p>这是个很犀利的招式，windows怎么使用网上太多了，我就不说了，mac的用法更是简单，不过这一招并不在于怎么使用，前期攒起来才是最重要的。<br>原料：Mac电脑一台，openshift／koding帐号一个</p>
<ul>
<li><code>ssh  -qTfnN -D port xxx@xxx.xx.x</code></li>
<li>打开浏览器，使用socks5代理，地址127.0.0.1:port</li>
</ul>
<blockquote>
<p>注：关闭步骤</p>
<ul>
<li><code>lsof -i tcp:端口号</code></li>
<li><code>sudo kill -9 PID</code></li>
</ul>
<p>此招式缺点：一小时断一次，不过别太沉迷于墙外的世界可以规避这个风险</p>
</blockquote>
<h2 id="SSH_Socks5_+_polipo__u7EC8_u7AEF_u79D1_u5B66_u4E0A_u7F51"><a href="#SSH_Socks5_+_polipo__u7EC8_u7AEF_u79D1_u5B66_u4E0A_u7F51" class="headerlink" title="SSH Socks5 + polipo 终端科学上网"></a>SSH Socks5 + polipo 终端科学上网</h2><p>为终端设置Shadowsocks代理</p>
<ul>
<li>准备工作<br>配置好一个可用的shadowsocks</li>
<li><p>安装<br>Mac下使用Homebrew安装</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">brew </span>install polipo</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改配置(Mac)<br>设置每次登陆启动polipo</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -sfv <span class="regexp">/usr/</span>local<span class="regexp">/opt/</span>polipo<span class="comment">/*.plist ~/Library/LaunchAgents</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>修改文件<code>/usr/local/opt/polipo/homebrew.mxcl.polipo.plist</code>设置parentProxy<br><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">...</span><span class="attribute">...</span></span><br><span class="line">&lt;key&gt;ProgramArguments&lt;/key&gt;</span><br><span class="line">&lt;<span class="built_in">array</span>&gt;</span><br><span class="line">&lt;<span class="built_in">string</span>&gt;/usr/<span class="built_in">local</span>/opt/polipo/bin/polipo&lt;/<span class="built_in">string</span>&gt;</span><br><span class="line">&lt;<span class="built_in">string</span>&gt;socksParentProxy=localhost:<span class="number">1080</span>&lt;/<span class="built_in">string</span>&gt;</span><br><span class="line">&lt;/<span class="built_in">array</span>&gt;</span><br><span class="line"><span class="attribute">...</span><span class="attribute">...</span></span><br></pre></td></tr></table></figure></p>
<p>修改的地方是增加了<string>socksParentProxy=localhost:1080</string>。</p>
<ul>
<li>启动(Mac)<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">launchctl unload ~/Library/LaunchAgents/homebrew<span class="class">.mxcl</span><span class="class">.polipo</span><span class="class">.plist</span></span><br><span class="line">launchctl load ~/Library/LaunchAgents/homebrew<span class="class">.mxcl</span><span class="class">.polipo</span><span class="class">.plis</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>注意：请确保Shadowsocks正常工作。</p>
</blockquote>
<ul>
<li>验证及使用<br>安装完成就需要进行验证是否work。这里展示一个最简单的验证方法，打开终端，如下执行<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">07</span>:<span class="number">56</span>:<span class="number">24</span>-androidyue/var/<span class="built_in">log</span>$ curl ip.gs</span><br><span class="line">当前 IP：<span class="number">125.39</span><span class="number">.112</span><span class="number">.15</span> 来自：中国天津天津 联通</span><br><span class="line"><span class="number">08</span>:<span class="number">09</span>:<span class="number">23</span>-androidyue/var/<span class="built_in">log</span>$ http_proxy=http:<span class="comment">//localhost:8123 curl ip.gs</span></span><br><span class="line">当前 IP：<span class="number">210.140</span><span class="number">.193</span><span class="number">.128</span> 来自：日本日本</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>如上所示，为某个命令设置代理，前面加上<code>http_proxy=http://localhost:8123</code><br>后接命令即可。</p>
<blockquote>
<p>注：8123是polipo的默认端口，如有需要，可以修改成其他有效端口。</p>
</blockquote>
<ul>
<li>设置别名<br><code>bash</code>中有一个很好的东西，就是别名<code>alias</code>. Linux用户修改<code>~/.bashrc</code>，Mac用户修改<code>~/.bash_profile</code>文件，增加如下设置<figure class="highlight monkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alias</span> <span class="title">hp</span>=<span class="string">"http_proxy=http://localhost:8123"</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>然后Linux用户执行<code>source ~/.bashrc</code>，Mac用户执行<code>source ~/.bash_profile</code></p>
<ul>
<li>测试使用<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">20</span>:<span class="number">39</span>:<span class="number">39</span>-androidyue~$ curl ip.gs</span><br><span class="line">当前 IP：<span class="number">125.39</span><span class="number">.112</span><span class="number">.14</span> 来自：中国天津天津 联通</span><br><span class="line"><span class="number">20</span>:<span class="number">39</span>:<span class="number">44</span>-androidyue~$ hp curl ip.gs</span><br><span class="line">当前 IP：<span class="number">210.140</span><span class="number">.193</span><span class="number">.128</span> 来自：日本日本</span><br><span class="line"><span class="number">20</span>:<span class="number">39</span>:<span class="number">48</span>-androidyue~$</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>当前会话全局设置<br>如果嫌每次为每一个命令设置代理比较麻烦，可以为当前会话设置全局的代理。即使用export http_proxy=<a href="http://localhost:8123即可。" target="_blank" rel="external">http://localhost:8123即可。</a> 如果想撤销当前会话的http_proxy代理，使用unset http_proxy即可。 示例效果如下<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">21</span>:<span class="number">29</span>:<span class="number">49</span>-androidyue~$ curl ip.gs</span><br><span class="line">当前 IP：<span class="number">125.39</span><span class="number">.112</span><span class="number">.14</span> 来自：中国天津天津 联通</span><br><span class="line"><span class="number">21</span>:<span class="number">29</span>:<span class="number">52</span>-androidyue~$ <span class="keyword">export</span> http_proxy=http:<span class="comment">//localhost:8123</span></span><br><span class="line"><span class="number">21</span>:<span class="number">30</span>:<span class="number">07</span>-androidyue~$ curl ip.gs</span><br><span class="line">当前 IP：<span class="number">210.140</span><span class="number">.193</span><span class="number">.128</span> 来自：日本日本</span><br><span class="line"><span class="number">21</span>:<span class="number">30</span>:<span class="number">12</span>-androidyue~$ unset http_proxy</span><br><span class="line"><span class="number">21</span>:<span class="number">30</span>:<span class="number">37</span>-androidyue~$ curl ip.gs</span><br><span class="line">当前 IP：<span class="number">125.39</span><span class="number">.112</span><span class="number">.14</span> 来自：中国天津天津 联通</span><br></pre></td></tr></table></figure></p>
<p>如果想要更长久的设置代理，可以将export http_proxy=<a href="http://localhost:8123加入.bashrc或者.bash_profile文件" target="_blank" rel="external">http://localhost:8123加入.bashrc或者.bash_profile文件</a></p>
<ul>
<li>设置Git代理<br>复杂一些的设置Git代理<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git clone <span class="string">https:</span><span class="comment">//android.googlesource.com/tools/repo --config http.proxy=localhost:8123</span></span><br><span class="line"></span><br><span class="line">Cloning into <span class="string">'repo'</span>...</span><br><span class="line"><span class="string">remote:</span> Counting <span class="string">objects:</span> <span class="number">135</span>, done</span><br><span class="line"><span class="string">remote:</span> Finding <span class="string">sources:</span> <span class="number">100</span>% (<span class="number">135</span>/<span class="number">135</span>)</span><br><span class="line"><span class="string">remote:</span> Total <span class="number">3483</span> (delta <span class="number">1956</span>), reused <span class="number">3483</span> (delta <span class="number">1956</span>)</span><br><span class="line">Receiving <span class="string">objects:</span> <span class="number">100</span>% (<span class="number">3483</span><span class="regexp">/3483), 2.63 MiB | 492 KiB/</span>s, done.</span><br><span class="line">Resolving <span class="string">deltas:</span> <span class="number">100</span>% (<span class="number">1956</span>/<span class="number">1956</span>), done.</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>其实这样还是比较复杂，因为需要记忆的东西比较多，下面是一个更简单的实现<br>首先，在<code>.bashrc</code>或者<code>.bash_profile</code>文件加入这一句。<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="setting">gp=<span class="value"><span class="string">" --config http.proxy=localhost:8123"</span></span></span></span><br></pre></td></tr></table></figure></p>
<p>然后执行<code>source</code>操作，更新当前bash配置。<br>更简单的使用git的方法<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git clone  <span class="string">https:</span><span class="comment">//android.googlesource.com/tools/repo $gp</span></span><br><span class="line"></span><br><span class="line">Cloning into <span class="string">'repo'</span>...</span><br><span class="line"><span class="string">remote:</span> Counting <span class="string">objects:</span> <span class="number">135</span>, done</span><br><span class="line"><span class="string">remote:</span> Finding <span class="string">sources:</span> <span class="number">100</span>% (<span class="number">135</span>/<span class="number">135</span>)</span><br><span class="line"><span class="string">remote:</span> Total <span class="number">3483</span> (delta <span class="number">1956</span>), reused <span class="number">3483</span> (delta <span class="number">1956</span>)</span><br><span class="line">Receiving <span class="string">objects:</span> <span class="number">100</span>% (<span class="number">3483</span><span class="regexp">/3483), 2.63 MiB | 483 KiB/</span>s, done.</span><br><span class="line">Resolving <span class="string">deltas:</span> <span class="number">100</span>% (<span class="number">1956</span>/<span class="number">1956</span>), done.</span><br></pre></td></tr></table></figure></p>
<h2 id="3-_SSH_Socks5_+_proxychains_u5B89_u88C5__u7EC8_u7AEF_u79D1_u5B66_u4E0A_u7F51"><a href="#3-_SSH_Socks5_+_proxychains_u5B89_u88C5__u7EC8_u7AEF_u79D1_u5B66_u4E0A_u7F51" class="headerlink" title="3. SSH Socks5 + proxychains安装 终端科学上网"></a>3. SSH Socks5 + proxychains安装 终端科学上网</h2><ul>
<li><p>proxychains安装</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/rofl0r/proxychains-ng.git</span><br><span class="line"><span class="keyword">cd</span> proxychains-ng</span><br><span class="line">./configure</span><br><span class="line"><span class="keyword">make</span> &amp;&amp; <span class="keyword">make</span> install</span><br><span class="line"><span class="keyword">cp</span> ./src/proxychains.<span class="keyword">conf</span> /etc/proxychains.<span class="keyword">conf</span></span><br><span class="line"><span class="keyword">cd</span> .. &amp;&amp; rm -rf proxychains-ng</span><br></pre></td></tr></table></figure>
</li>
<li><p>编辑proxychains配置</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">vim</span> /etc/proxychains.<span class="keyword">conf</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>将<code>socks4 127.0.0.1 9095</code>改为<code>socks5 127.0.0.1 1080</code><br>1080改为你自己的端口</p>
<ul>
<li>使用方法<br>在需要代理的命令前加上<code>proxychains4</code> ，如：<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="label">proxychains4</span> curl <span class="literal">ip</span>.gs</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>未完待续～～～</p>

    </section>
    <footer class="post-footer">
      <section class="author">
    <h4>Yucapri</h4>
    <p>code made the world</p>
</section>
      <section class="share">
    <h4>Share this post</h4>
    <a class="icon-twitter" href="http://twitter.com/share?url=http://yoursite.com/2016/05/21/技术/技术_科学上网大教程(持续更新)/"
       onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <span class="hidden">Twitter</span>
    </a>
    <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2016/05/21/技术/技术_科学上网大教程(持续更新)/"
       onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
        <span class="hidden">Facebook</span>
    </a>
    <a class="icon-google-plus" href="https://plus.google.com/share?url=http://yoursite.com/2016/05/21/技术/技术_科学上网大教程(持续更新)/"
       onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
        <span class="hidden">Google+</span>
    </a>
</section>
    </footer>
  </article>
  <nav class="pagination" role="pagination">
    
    <a class="newer-posts" href="/2016/05/22/技术/技术_班瓦工/">
        ← 班瓦工
    </a>
    
    <span class="page-number">•</span>
    
    <a class="older-posts" href="/2016/05/17/iOS/iOS_UIAlertController选项字体修改/">
        UIAlertController选项字体修改 →
    </a>
    
</nav>
  <div id="comment" class="comments-area">
    <h1 class="title"><a href="#disqus_comments" name="disqus_comments">Comments</a></h1>

    
</div>
</main>


  
<footer class="site-footer">
  
  <div class="inner">
     <section class="copyright">All content copyright <a href="/">Yucapri</a> &copy; 2014 &bull; All rights reserved.</section>
     <section class="poweredby">Proudly published with <a class="icon-ghost" href="http://zespia.tw/hexo/">Hexo</a></section>
  </div>
</footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<script type="text/javascript" src="/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/js/index.js"></script>






</body>
</html>
